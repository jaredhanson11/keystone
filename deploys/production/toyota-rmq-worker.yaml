image:
  repository: jaredhanson11/toyota-rmq-worker
  tag: 0.2.2

dbConnection:
  shouldConnect: true
  prefix: "postgresql://"
  passwordSecret:
    secretName: postgres-secrets
    keyName: summn-rw-user-password
  user: summn-rw-user
  port: 25060
  host: summn-production-database-do-user-7025508-0.a.db.ondigitalocean.com
  name: toyota?sslmode=require

existingSecret: toyota-secrets
secret:
  RMQ_PASSWORD: ""
  TYPEFORM_API_KEY: ""
  SENDGRID_API_KEY: ""
config:
  SUMM_LOG_FILE: "/app/app.log"
  RMQ_USER: keystone-user
  RMQ_HOST: rabbitmq
  RMQ_PORT: "5672"
  TYPEFORM_SIGNUP_SURVEY_ID: "DcwXSXYF"

config.py: |-
  import os

  # SQLALCHEMY
  SQLALCHEMY_DATABASE_URI = os.environ["SQLALCHEMY_DATABASE_URI"]

  # RMQ connection config
  RMQ_USER = os.environ["RMQ_USER"]
  RMQ_PASSWORD = os.environ["RMQ_PASSWORD"]
  RMQ_HOST = os.environ["RMQ_HOST"]
  RMQ_PORT = os.environ["RMQ_PORT"]

  # Typeform
  TYPEFORM_API_KEY = os.environ.get("TYPEFORM_API_KEY")
  TYPEFORM_SIGNUP_SURVEY_ID = os.environ.get("TYPEFORM_SIGNUP_SURVEY_ID")

  # Sendgrid
  SENDGRID_API_KEY = os.environ.get("SENDGRID_API_KEY")
  SENDGRID_GROUP_ID_ACCOUNT_ALERTS = 29093  # UnsubscribeGroup: User Account Alerts

  # Email
  EMAIL_NEW_USER_FROM_ADDRESS = ("anthony@rep.so", "Anthony Emberley")
  EMAIL_NEW_USER_TEMPLATE_ID = "d-93541c8aac1b4c5c8efd608014d9b4a4"
  EMAIL_NEW_USER_WAITLISTED_TEMPLATE_ID = "d-8fd3b0b686194b7d90ccd9afdc0b952a"

  # Logging
  tmp = os.environ.get("SUMM_LOG_FILE")
  if tmp:
      SUMM_LOG_FILE = tmp

  tmp = os.environ.get("SUMM_LOG_FILE_SIZE")
  if tmp:
      SUMM_LOG_FILE_SIZE = tmp
